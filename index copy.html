<!doctype html>
<html lang="ko">
  <head>
    <link
      rel="preload"
      href="https://d1iub2snqs2x58.cloudfront.net/afe-loading.webp"
      as="image"
      type="image/webp"
      fetchpriority="high"
    />
    <meta charset="UTF-8" />
    <title>AFE | Home</title>

    <!-- SEO 메타 태그 -->
    <meta
      name="description"
      content="AFE는 트렌디한 영상미를 기반으로 광고, 홍보 영상, 다큐멘터리, 아트필름을 제작하는 영상 프로덕션입니다."
    />
    <meta
      name="keywords"
      content="AFE, 영상 프로덕션, 광고, 홍보 영상, 다큐멘터리, 아트필름"
    />
    <meta name="author" content="AFE" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.afefilm.com/" />
    <meta property="og:title" content="AFE | Home" />
    <meta property="og:description" content="영상제작은 AFE" />
    <meta
      property="og:image"
      content="https://www.afefilm.com/asset/afe-logo-og.png"
    />
    <meta property="og:image:width" content="800" />
    <meta property="og:image:height" content="400" />

    <meta property="og:site_name" content="AFE Film" />
    <meta property="og:locale" content="ko_KR" />
    <meta
      property="og:video"
      content="https://www.afefilm.com/asset/main/showreel.mp4"
    />
    <meta property="og:video:type" content="video/mp4" />
    <meta property="og:video:width" content="1200" />
    <meta property="og:video:height" content="630" />
    <meta property="og:image:alt" content="AFE Film Logo" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@AFEfilm" />
    <meta name="twitter:url" content="https://www.afefilm.com/" />
    <meta name="twitter:title" content="AFE | Home" />
    <meta
      name="twitter:description"
      content="AFE는 트렌디한 영상미를 기반으로 광고, 홍보 영상, 다큐멘터리, 아트필름을 제작하는 영상 프로덕션입니다. AFE film은 감각적인 영상제작업체 입니다."
    />
    <meta
      name="twitter:image"
      content="https://www.afefilm.com/asset/afe-logo-og.png"
    />

    <!-- 파비콘 -->
    <link
      rel="icon"
      type="image/webp"
      sizes="16x16"
      href="./asset/afefavicon-16x16.webp"
    />
    <link
      rel="icon"
      type="image/webp"
      sizes="32x32"
      href="./asset/afefavicon-32x32.webp"
    />
    <link rel="apple-touch-icon" href="./asset/main/AFE logo.webp" />

    <!-- 스타일시트 -->
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./index.css" />

    <!-- 캐노니컬 URL -->
    <link rel="canonical" href="https://www.afefilm.com/" />

    <!-- 언어 설정 -->
    <meta name="language" content="Korean" />

    <!-- 로봇 메타 태그 -->
    <meta name="robots" content="index, follow" />

    <!-- 뷰포트 설정 (이미 있음) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 페이지 언어 설정 -->
    <meta http-equiv="content-language" content="ko-KR" />

    <!-- 검색 엔진 최적화를 위한 추가 메타 태그 -->
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />

    <!-- 구조화된 데이터 (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "AFE film",
        "url": "https://afefilm.com",
        "logo": "https://afefilm.com/img/AfeLogo.webp",
        "description": "AFE film은 감각적인 영상제작업체 입니다.",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "부산",
          "addressCountry": "KR"
        }
      }
    </script>

    <!-- DNS 프리페치 설정 -->
    <link rel="dns-prefetch" href="//www.google-analytics.com" />

    <!-- 성능 최적화를 위한 리소스 힌트 -->
    <link rel="preconnect" href="https://player.vimeo.com" />
    <link rel="preconnect" href="https://i.vimeocdn.com" />

    <!-- 추가 SEO 메타 태그 -->
    <meta name="geo.region" content="KR" />
    <meta name="geo.placename" content="Busan" />

    <!-- 웹 앱 매니페스트 링크 (PWA 지원을 위해) -->
    <link rel="manifest" href="/manifest.json" />

    <!-- 브라우저 테마 색상 설정 -->
    <meta name="theme-color" content="#111111" />

    <!-- 검색엔진 색인 갱신 주기 설정 -->
    <meta name="revisit-after" content="7 days" />

    <!-- 저작권 정보 -->
    <meta
      name="copyright"
      content="Copyright © 2024 AFE Film. All rights reserved."
    />

    <!-- 추가 보안 헤더 -->
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />

    <meta
      http-equiv="Referrer-Policy"
      content="strict-origin-when-cross-origin"
    />

    <!-- 구글 사이트 확인 (Google Search Console) -->
    <meta
      name="google-site-verification"
      content="mM_pk11JzdPn57nwq2YpowNEZuK8ud5eWrLGI3mstUI"
    />

    <!-- 네이버 사이트 확인 (Naver Webmaster Tools) -->
    <meta
      name="naver-site-verification"
      content="cbd32824735aa41ebb724a227ebad682017619aa"
    />
    <link
      rel="stylesheet"
      as="style"
      crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css"
    />
    <style>
      #log {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #fff;
        font-size: 16px;
        z-index: 9999;
        height: 100vh;
        overflow-y: auto;
        width: 90%;
        background: rgba(0, 0, 0, 0.2);
        padding: 10px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
    </style>
  </head>
  <!-- Google tag (gtag.js) -->
  <!-- Google Analytics 스크립트 -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-WQM48G7TZJ"
  ></script>
  <script>
    // Google Analytics 설정
    window.dataLayer = window.dataLayer || []; // dataLayer 객체 초기화 (없으면 빈 배열 생성)
    function gtag() {
      dataLayer.push(arguments); // gtag 함수 정의: 인자를 dataLayer에 추가
    }
    gtag('js', new Date()); // GA에 현재 시간 정보 전송

    // Google Analytics 추적 ID 설정
    gtag('config', 'G-WQM48G7TZJ'); // 특정 GA4 속성의 추적 ID 설정
  </script>
  <body>
    <div id="log"></div>
    <!-- 로딩페이지 -->
    <div id="loading-page" class="loading-page">
      <picture>
        <source
          srcset="https://d1iub2snqs2x58.cloudfront.net/afe-loading.webp"
          type="image/webp"
        />
        <img
          src="https://d1iub2snqs2x58.cloudfront.net/afe-loading.gif"
          alt="Content is loading, please wait."
          loading="lazy"
          decoding="async"
        />
      </picture>
    </div>
    <!-- 노이즈효과 -->
    <div class="noise"></div>
    <!-- 커서변경 -->
    <div class="cursor">
      <div class="cursor-ball">
        <svg height="30" width="30">
          <circle
            cx="15"
            cy="15"
            r="12"
            stroke-width="0"
            style="fill: rgb(255, 255, 255)"
          ></circle>
        </svg>
      </div>
    </div>
    <!-- 헤더 페이지 -->
    <header class="header" aria-label="헤더 페이지">
      <div class="header-logo cursor-able">
        <a href="./index.html">
          <img src="./asset/main/AFE logo.webp" alt="AFE logo" />
        </a>
      </div>
      <div class="header-menu">
        <div class="header-menu-item-1">
          <div class="header-menu-item-1-1 cursor-able">
            <a href="./about.html">About</a>
          </div>
          <div class="header-menu-item-1-2 cursor-able">
            <a href="./work.html">Work</a>
          </div>
          <div class="header-menu-item-1-3 cursor-able">
            <a href="./contact.html">Contact</a>
          </div>
        </div>
        <div class="header-menu-item-2 cursor-able">
          <a href="https://bit.ly/3yJX7NL" class="header-menu-item-2-2">
            <span class="header-menu-item-2-1">회사소개서</span>
            <img
              src="./asset/main/material-symbols-light_download.svg"
              alt="Vector"
            />
          </a>
        </div>
      </div>
      <!-- 햄버거 메뉴 버튼 -->
      <button class="hamburger-menu" aria-label="메뉴 열기">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </header>
    <!-- 모바일 메뉴 -->
    <nav class="mobile-menu">
      <div class="mobile-menu-1">
        <a href="./about.html">About</a>
        <a href="./work.html">Work</a>
        <a href="./contact.html">Contact</a>
      </div>
      <div class="mobile-menu-2">
        <a href="https://bit.ly/3yJX7NL">
          <span>회사소개서</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
          >
            <path
              d="M9.99996 12.9808L7.05079 10.0325L7.64079 9.4325L9.58329 11.375V4.16667H10.4166V11.375L12.3583 9.43333L12.9491 10.0325L9.99996 12.9808ZM5.51329 15.8333C5.1294 15.8333 4.80913 15.705 4.55246 15.4483C4.29579 15.1917 4.16718 14.8711 4.16663 14.4867V12.4675H4.99996V14.4867C4.99996 14.615 5.05329 14.7328 5.15996 14.84C5.26663 14.9472 5.38413 15.0006 5.51246 15H14.4875C14.6152 15 14.7327 14.9467 14.84 14.84C14.9472 14.7333 15.0005 14.6156 15 14.4867V12.4675H15.8333V14.4867C15.8333 14.8706 15.705 15.1908 15.4483 15.4475C15.1916 15.7042 14.8711 15.8328 14.4866 15.8333H5.51329Z"
              fill="#111111"
            />
          </svg>
        </a>
      </div>
    </nav>
    <!-- 메인 페이지 -->
    <main aria-label="메인 페이지">
      <!-- 랜딩 요소 페이지 1 메인 타이틀, 로딩페이지로 통합 -->

      <!-- 랜딩 요소 페이지 2 영상 쇼릴등장 -->
      <section class="main-2 section" aria-label="영상 쇼릴 페이지">
        <div class="video-container-reel"></div>
      </section>
      <!-- 랜딩 요소 페이지 3 what we do? 페이지 -->
      <section class="main-3 section" aria-label="What we do? 페이지">
        <div class="main-3-1">
          <h2 class="main-3-1-1">What we do?</h2>
          <p class="main-3-1-2">
            AFE는 트렌디한 영상미를 기반으로 광고, 홍보 영상, 다큐멘터리,
            아트필름을 제작하는 영상 프로덕션입니다 현재 영상 프로덕션뿐만
            아니라 렌탈, 종합 마케팅 사업까지 확장해 나가고 있습니다
          </p>
          <p class="main-3-1-3">
            AFE is a video production company that creates advertisements,
            promotional videos, documentaries, and art films based on trendy
            visuals. Currently, we are expanding our business beyond video
            production to include rental services and comprehensive marketing
            solutions.
          </p>
        </div>
      </section>
      <hr class="section-divider" aria-label="섹션 구분선" />
      <!-- 랜딩 요소 페이지 4 Our Services 페이지 -->
      <section class="main-4 section" aria-label="Our Services 페지">
        <h2 class="main-4-1">Our Services</h2>
        <div class="main-4-2">
          <a href="./about.html#film-production" class="main-4-2-1"
            >film production</a
          >
          <a href="./about.html#rental-anchor" class="main-4-2-2">rental</a>
          <a href="./about.html#marketing-anchor" class="main-4-2-3"
            >marketing</a
          >
          <a onclick="alert('홈페이지 리뉴얼작업 중입니다.')" class="main-4-2-4"
            >academy</a
          >
        </div>
      </section>
      <hr class="section-divider" aria-label="섹션 구분선" />
      <!-- 랜딩 요소 페이지 5 Our Work 페이지 -->
      <section class="main-5 section" aria-label="Our Work 페이지">
        <div class="main-5-1">
          <h2 class="main-5-1-1">Our Work</h2>
          <div class="main-5-1-2">
            <div class="main-5-1-2-1 video-container">
              <img
                src="/asset/main/main-5-1-2/1.webp"
                alt="Video thumbnail"
                class="video-thumbnail"
              />
              <div class="play-button">
                <svg
                  class="play-icon"
                  width="64"
                  height="64"
                  viewBox="0 0 64 64"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <circle
                    cx="32"
                    cy="32"
                    r="32"
                    fill="#F8F9FA"
                    fill-opacity="0.5"
                  />
                  <path d="M44 32L26 42L26 22L44 32Z" fill="#111111" />
                </svg>
              </div>
              <iframe
                src="https://player.vimeo.com/video/992047192?badge=0&amp;autopause=0&amp;player_id=vimeo-player&amp;app_id=58479"
                frameborder="0"
                allow="autoplay; fullscreen; picture-in-picture; clipboard-write"
                title="금난새"
                class="video-iframe"
                id="vimeo-player"
              ></iframe>
            </div>
          </div>

          <div class="main-5-1-3">
            <img src="./asset/main/Ellipse 5.svg" alt="2번이미지" />
            <img src="./asset/main/Ellipse 6.svg" alt="2번이미지" />
            <img src="./asset/main/Ellipse 6.svg" alt="2번이미지" />
            <img src="./asset/main/Ellipse 6.svg" alt="2번이미지" />
          </div>

          <a class="main-5-1-4" href="work.html">View more</a>
        </div>
      </section>
      <hr class="section-divider mobile" aria-label="섹션 구분선" />
      <!-- 랜딩 요소 디자인 페이지 6 Client 페이지 -->
      <section class="main-6 section" aria-label="Client 페이지">
        <h2 class="main-6-1">Client</h2>
        <div class="main-6-2">
          <div class="scroll-container scroll-container-1">
            <img
              src="./asset/main/main-6-2-1.webp"
              alt="Client logo"
              class="scroll-image"
            />
            <img
              src="./asset/main/main-6-2-1.webp"
              alt="Client logo"
              class="scroll-image"
            />
          </div>
          <div class="scroll-container scroll-container-2">
            <img
              src="./asset/main/main-6-2-2.webp"
              alt="Client logo"
              class="scroll-image"
            />
            <img
              src="./asset/main/main-6-2-2.webp"
              alt="Client logo"
              class="scroll-image"
            />
          </div>
        </div>
      </section>
    </main>
    <!-- 푸터 페이지 -->
    <footer class="footer" aria-label="푸터 페이지">
      <div class="footer-1">
        <div class="footer-1-1">
          <p>에이에프이 (AFE)</p>
          <p>대표 : 박세형</p>
          <p>사업자번호 : 133-16-01692</p>
          <p>메일 : afefilm82@gmail.com</p>
          <p>대표전화 : 070-8800-0401</p>
        </div>
        <div class="footer-1-2">
          <div class="footer-1-2-1">
            <p>
              부산광역시 해운대구 세실로 33 B1<br />
              서울 영등포구 영중로 119 리마크빌 영등포 2층
            </p>
            <p>
              33, Sesil-ro, Haeundae-gu, Busan, Republic of Korea 46,<br />
              119, Yeongjung-ro, Yeongdeungpo-gu, Seoul, Republic of Korea
            </p>
          </div>
          <div class="footer-1-2-2">
            <p>copyright 2024. AFE. All rights reserved</p>
          </div>
        </div>
      </div>
    </footer>
    <!-- 로딩 및 쇼릴영상 스크립트 -->
    <script>
      let secondsElapsed = 0;
      let mainVideo;

      function logMessage(message) {
        const logElement = document.getElementById('log');
        const logEntry = document.createElement('div');
        logEntry.textContent = message;
        logElement.appendChild(logEntry);
        logElement.scrollTop = logElement.scrollHeight;
      }

      // 페이지 로드 완료 시 실행되는 이벤트 리스너
      document.addEventListener('DOMContentLoaded', async function () {
        logMessage('DOMContentLoaded 이벤트 발생');
        // 초기 스크롤 방지
        document.body.classList.add('no-scroll');
        logMessage('body에 no-scroll 클래스 추가');

        // 필요한 DOM 요소 선택
        const loadingPage = document.getElementById('loading-page');
        const loadingImage = loadingPage.querySelector('img');
        mainVideo = document.createElement('video');
        const videoContainer = document.querySelector('.video-container-reel');

        // 메인 비디오 요소 설정
        mainVideo.classList.add('main-2-1');
        mainVideo.muted = true;
        mainVideo.playsInline = true;
        mainVideo.loop = true;
        mainVideo.preload = 'auto';
        videoContainer.appendChild(mainVideo);
        logMessage('비디오 요소 생성 및 비디오 컨테이너에 추가');

        // 모바일 기기 여부 확인 함수
        function isMobile() {
          return window.innerWidth <= 1024;
        }

        // 비디오 소스 설정 함수
        function setVideoSource() {
          const videoSource = isMobile()
            ? 'https://afefilm.com/asset/main/afe-reel-mobile.mp4'
            : 'https://afefilm.com/asset/main/afe-reel-web.mp4';
          if (mainVideo.src !== videoSource) {
            mainVideo.src = videoSource;
            mainVideo.load();
            logMessage(`비디오 소스 설정: ${videoSource}`);
          }
        }

        // 초기 비디오 소스 설정 및 리사이즈 이벤트 리스너 추가
        setVideoSource();
        window.addEventListener('resize', setVideoSource);
        logMessage('비디오 소스 설정 및 resize 이벤트 리스너 추가');

        // 이미지 프리로드 함수
        function preloadImage(img) {
          return new Promise((resolve, reject) => {
            if (img.complete) {
              resolve();
              logMessage('로딩 이미지 이미 로드됨');
            } else {
              img.onload = () => {
                resolve();
                logMessage('로딩 이미지 로드 완료');
              };
              img.onerror = () => {
                reject();
                logMessage('로딩 이미지 로드 실패');
              };
            }
          });
        }

        // 로딩 페이지 닫기 함수
        function closeLoadingPage() {
          return new Promise((resolve) => {
            loadingPage.style.opacity = '0';
            mainVideo.play().catch(() => {});
            setTimeout(() => {
              loadingPage.style.display = 'none';
              document.body.classList.remove('no-scroll');
              resolve();
              logMessage('로딩 페이지 닫힘');
            }, 500);
          });
        }

        try {
          logMessage('이미지 프리로드 시작');
          await preloadImage(loadingImage);
          logMessage('이미지 프리로드 완료');
          await new Promise((resolve) => setTimeout(resolve, 3900));
          logMessage('3900ms 대기 완료');

          const mainVideoReadyPromise = new Promise((resolve) => {
            let checkCount = 0;
            const maxChecks = 20; // 최대 10초 (500ms * 20)

            const checkReadyState = () => {
              if (mainVideo.readyState >= 3) {
                console.log(`비디오 준비 완료 (시도 횟수: ${checkCount})`);
                resolve();
              } else if (checkCount < maxChecks) {
                checkCount++;
                setTimeout(checkReadyState, 500);
              } else {
                console.log('비디오 준비 시간 초과');
                resolve(); // 시간 초과 시에도 resolve 호출
              }
            };

            mainVideo.addEventListener(
              'canplay',
              () => {
                console.log('비디오 canplay 이벤트 발생');
                resolve();
              },
              { once: true },
            );

            checkReadyState();
          });

          let timeoutId;
          const timeoutPromise = new Promise((resolve) => {
            timeoutId = setTimeout(() => {
              logMessage('10초 타임아웃 발생');
              resolve();
            }, 10000);
          });

          const networkStatusPromise = new Promise((resolve) => {
            if (navigator.onLine) {
              resolve();
              logMessage('네트워크 연결됨');
            } else {
              window.addEventListener(
                'online',
                () => {
                  resolve();
                  logMessage('네트워크 연결됨 (online 이벤트)');
                },
                { once: true },
              );
            }
          });

          await Promise.race([
            Promise.all([mainVideoReadyPromise, networkStatusPromise]).then(
              () => {
                clearTimeout(timeoutId);
                logMessage('비디오 준비 완료 및 네트워크 연결됨');
              },
            ),
            timeoutPromise,
          ]);

          await closeLoadingPage();
          mainVideo.play().catch(() => {
            logMessage('비디오 재생 중 오류 발생');
          });
        } catch (error) {
          logMessage('에러 발생: ' + error);
          await closeLoadingPage();
        }
      });

      document.body.addEventListener(
        'touchstart',
        () => {
          if (mainVideo && mainVideo.paused) {
            mainVideo.play().catch(() => {
              logMessage('터치 이벤트 중 비디오 재생 오류 발생');
            });
          }
        },
        { passive: true },
      );

      const logInterval = setInterval(() => {
        secondsElapsed++;
        logMessage(`${secondsElapsed}초 경과`);
        if (secondsElapsed >= 15) {
          clearInterval(logInterval);
          logMessage('로그 메시지 15초 경과 후 중지');
        }
      }, 1000);
    </script>
    <!-- 햄버거 메뉴 스크립트 -->
    <script>
      // 문서가 완전히 로드된 후 스크립트 실행
      document.addEventListener('DOMContentLoaded', function () {
        // 필요한 요소들을 선택
        const hamburgerMenu = document.querySelector('.hamburger-menu');
        const mobileMenu = document.querySelector('.mobile-menu');
        const body = document.body;

        // 초기 상태 설정
        mobileMenu.style.transition = 'none';
        mobileMenu.style.right = '-100%';
        mobileMenu.style.display = 'none';

        // 강제로 리플로우를 발생시켜 초기 스타일을 적용
        mobileMenu.offsetHeight;

        // 트랜지션 다시 활성화
        mobileMenu.style.transition = 'right 0.3s ease-in-out';

        // 햄버거 메뉴 클릭 이벤트 리스너
        hamburgerMenu.addEventListener('click', function () {
          // 햄버거 메뉴와 모바일 메뉴의 활성화 상태를 토글
          this.classList.toggle('active');
          mobileMenu.classList.toggle('active');

          // 모바일 메뉴가 활성화되었을 때
          if (mobileMenu.classList.contains('active')) {
            // 모바일 메뉴를 보이게 함
            mobileMenu.style.display = 'flex';
            // 약간의 지연 후 메뉴를 오른쪽에서 슬라이드인
            setTimeout(() => {
              mobileMenu.style.right = '0';
            }, 10); // 10ms 지연으로 트랜지션 효과 적용
            // 배경 스크롤 방지
            body.style.overflow = 'hidden';
          } else {
            // 모바일 메뉴가 비활성화되었을 때
            // 메뉴를 오른쪽으로 슬라이드아웃
            mobileMenu.style.right = '-100%';
            // 트랜지션 완료 후 메뉴를 숨김
            setTimeout(() => {
              mobileMenu.style.display = 'none';
            }, 300); // 300ms는 CSS 트랜지션 시간과 일치해야 함
            // 배경 스크롤 허용
            body.style.overflow = '';
          }
        });

        // 햄버거 메뉴 아이콘 애니메이션
        hamburgerMenu.addEventListener('click', function () {
          // 햄버거 메뉴의 각 막대를 선택
          const spans = this.querySelectorAll('span');
          // 메뉴가 활성화되었을 때
          if (this.classList.contains('active')) {
            // X 모양으로 변형
            spans[0].style.transform = 'rotate(-45deg) translate(-5px, 6px)';
            spans[1].style.opacity = '0';
            spans[2].style.transform = 'rotate(45deg) translate(-5px, -6px)';
          } else {
            // 원래 햄버거 모양으로 복귀
            spans[0].style.transform = 'none';
            spans[1].style.opacity = '1';
            spans[2].style.transform = 'none';
          }
        });
      });
    </script>
    <!-- 섹션 스크립트 -->
    <script>
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      const observer = new IntersectionObserver(
        debounce((entries) => {
          entries.forEach((entry) => {
            if (
              entry.isIntersecting &&
              !entry.target.classList.contains('visible')
            ) {
              entry.target.classList.add('visible');
              observer.unobserve(entry.target); // 한 번 보이면 관찰 중지
            }
          });
        }, 25), // 50ms 디바운스
        {
          threshold: [0, 0.25, 0.5, 0.75, 1],
          rootMargin: '-20% 0px -20% 0px',
        },
      );

      document.querySelectorAll('.section').forEach((section) => {
        observer.observe(section);
      });
    </script>

    <script src="https://player.vimeo.com/api/player.js"></script>
    <!-- 비디오 클릭시 플레이 버튼 숨기기 -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const videoContainer = document.querySelector('.video-container');
        const playButton = document.querySelector('.play-button');
        const videoThumbnail = document.querySelector('.video-thumbnail');
        const iframe = document.querySelector('.video-iframe');

        // Vimeo Player 초기화
        const player = new Vimeo.Player(iframe);

        playButton.addEventListener('click', function (e) {
          e.stopPropagation();

          // 즉시 비디오 재생 시작
          player.play().catch((error) => {
            console.error('비디오 재생 중 오류 발생:', error);
          });

          // 트랜지션이 끝난 후 요소들을 완전히 숨김
          setTimeout(() => {
            videoThumbnail.style.display = 'none';
            playButton.style.display = 'none';
          }, 1000); // 4초(대기) + 0.25초(트랜지션) = 4.25초
        });

        videoContainer.addEventListener('click', function (e) {
          e.stopPropagation();
        });
      });
    </script>

    <!-- 로고 가로로 무한스크롤 -->
    <script>
      function setupInfiniteScroll() {
        const container = document.querySelector('.scroll-container');
        const images = container.querySelectorAll('.scroll-image');

        if (images.length !== 2) {
          console.error('Infinite scroll requires exactly two images');
          return;
        }

        const imageWidth = images[0].offsetWidth;
        let scrollPosition = 0;

        function scroll() {
          scrollPosition -= 1; // 스크롤 속도 조절 (숫자를 변경하여 속도 조절 가능)

          if (scrollPosition <= -imageWidth) {
            scrollPosition += imageWidth;
          }

          container.style.transform = `translateX(${scrollPosition}px)`;
          requestAnimationFrame(scroll);
        }

        requestAnimationFrame(scroll);
      }

      // 페이지 로드 시 함수 실행
      window.addEventListener('load', setupInfiniteScroll);
    </script>
    <!-- 헤더 스크롤되면 배경색 변경 -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const header = document.querySelector('.header');
        const main = document.querySelector('main');
        let lastScrollY = 0;
        let isMobile = window.innerWidth <= 768; // 모바일 기준 너비 설정

        function updateHeader(scrollY) {
          if (isMobile) {
            // 모바일에서는 헤더 배경색을 고정
            header.style.backgroundColor = 'rgba(17, 17, 17, 1)';
            return;
          }

          const headerHeight = header.offsetHeight;
          const mainTop = main.offsetTop;
          const scrollDistance = window.innerHeight * 0.5; // 뷰포트 높이를 사용

          // 스크롤 진행도를 0에서 1 사이의 값으로 계산
          const scrollProgress = Math.max(
            0,
            Math.min(scrollY / scrollDistance, 1),
          );

          // 배경색의 알파값을 설정
          const alpha = scrollProgress.toFixed(2);
          header.style.backgroundColor = `rgba(17, 17, 17, ${alpha})`;

          // console.log(
          //   `Scroll position: ${scrollY}px, Progress: ${scrollProgress.toFixed(2)}, Alpha: ${alpha}`,
          // );
        }

        // 초기 로드 시 헤더 배경 설정
        if (isMobile) {
          header.style.backgroundColor = 'rgba(17, 17, 17, 1)';
        } else {
          header.style.backgroundColor = 'rgba(17, 17, 17, 0)';
        }

        // 스크롤 이벤트 리스너
        window.addEventListener('scroll', function () {
          updateHeader(window.scrollY);
        });

        // 리사이즈 이벤트 리스너
        window.addEventListener('resize', function () {
          isMobile = window.innerWidth <= 768;
          updateHeader(window.scrollY);
        });

        // 초기 상태 설정
        updateHeader(window.scrollY);
      });
    </script>
  </body>
</html>
