<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ì½˜í…ì¸  ì—…ë¡œë“œ</title>
    <link rel="stylesheet" href="./styles/admin.css" />
    <script type="importmap">
      {
        "imports": {
          "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js",
          "firebase/storage": "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"
        }
      }
    </script>
  </head>
  <body>
    <div class="admin-container">
      <!-- ê¸°ì¡´ ì—…ë¡œë“œ í¼ -->
      <div class="upload-container">
        <h2>ì‹ ê·œ ì½˜í…ì¸  ì—…ë¡œë“œ</h2>
        <form id="uploadForm" enctype="multipart/form-data">
          <!-- ì˜ìƒ ë©”íƒ€ë°ì´í„° ì„¹ì…˜ -->
          <div class="form-group">
            <label for="videoId">YouTube ì˜ìƒ ë§í¬</label>
            <input
              type="text"
              id="videoId"
              name="videoId"
              placeholder="https://youtube.com/... ë˜ëŠ” ì˜ìƒ ID ì…ë ¥"
              required
            />
          </div>

          <div class="form-grid">
            <div class="form-group">
              <label for="title">ì˜ìƒ ì œëª©</label>
              <input type="text" id="title" name="title" required />
            </div>

            <div class="form-group">
              <label for="productionDate">ì œì‘ë…„ë„</label>
              <input
                type="number"
                id="productionDate"
                name="productionDate"
                min="2010"
                max="2025"
                required
              />
            </div>

            <div class="form-group">
              <label for="client">í´ë¼ì´ì–¸íŠ¸</label>
              <input
                type="text"
                id="client"
                name="client"
                required
                value="í´ë¼ì´ì–¸íŠ¸"
              />
            </div>

            <div class="form-group">
              <label for="score">ë…¸ì¶œìˆœìœ„ (1-9)</label>
              <input
                type="number"
                id="score"
                name="score"
                min="1"
                max="9"
                required
              />
            </div>
          </div>

          <!-- íƒ€ì… ë° ì¹´í…Œê³ ë¦¬ ì„ íƒ -->
          <div class="form-container">
            <div class="form-group">
              <label>ìœ í˜• ì„ íƒ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)</label>
              <div class="multi-select-container">
                <div class="available-options">
                  <div class="option" data-value="ì½˜í…ì¸ ">ì½˜í…ì¸ </div>
                  <div class="option" data-value="ê´‘ê³ ">ê´‘ê³ </div>
                  <div class="option" data-value="ë®¤ì§ë¹„ë””ì˜¤">ë®¤ì§ë¹„ë””ì˜¤</div>
                  <div class="option" data-value="ê³µê¸°ê´€">ê³µê¸°ê´€</div>
                  <div class="option" data-value="ìŠ¤ì¼€ì¹˜">ìŠ¤ì¼€ì¹˜</div>
                </div>
                <input type="hidden" id="type" name="type" multiple />
              </div>
            </div>

            <div class="form-group">
              <label>ì¹´í…Œê³ ë¦¬ ì„ íƒ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)</label>
              <div class="multi-select-container">
                <div class="available-options">
                  <div class="option" data-value="ì½˜í…ì¸ ">ì½˜í…ì¸ </div>
                  <div class="option" data-value="ê¸°ì—…">ê¸°ì—…</div>
                  <div class="option" data-value="ê³µê³µê¸°ê´€">ê³µê³µê¸°ê´€</div>
                  <div class="option" data-value="ì•„íŠ¸í•„ë¦„">ì•„íŠ¸í•„ë¦„</div>
                </div>
                <input type="hidden" id="category" name="category" multiple />
              </div>
            </div>
          </div>

          <!-- WebP ì¸ë„¤ì¼ ì—…ë¡œë“œ ì„¹ì…˜ -->
          <div class="form-group">
            <label for="thumbnail">ì¸ë„¤ì¼ ì´ë¯¸ì§€ (WebP ë³€í™˜ ìë™ ì²˜ë¦¬)</label>
            <div id="dropZone" class="drop-zone">
              <div class="drop-content">
                <span class="material-icons">ğŸ“</span>
                <span>íŒŒì¼ ëŒì–´ì˜¤ê¸° ë˜ëŠ” í´ë¦­</span>
                <small>ìµœëŒ€ 5MBì˜ ì´ë¯¸ì§€ íŒŒì¼</small>
              </div>
              <input
                type="file"
                id="thumbnail"
                name="thumbnail"
                accept="image/*"
                required
              />
              <div class="preview-container"></div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" id="submitBtn">ì—…ë¡œë“œ</button>
            <button id="logoutBtn" class="btn-logout">ë¡œê·¸ì•„ì›ƒ</button>
            <div class="upload-progress">
              <div class="progress-bar" id="progressBar"></div>
              <span id="progressText">0%</span>
            </div>
          </div>
        </form>

        <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ ì¶”ê°€ -->
        <div id="testResult" class="test-result"></div>
      </div>

      <!-- ì½˜í…ì¸  ëª©ë¡ ì„¹ì…˜ ì¶”ê°€ -->
      <div class="content-list-container">
        <h2>ì½˜í…ì¸  ëª©ë¡</h2>

        <!-- í•„í„° ì„¹ì…˜ -->
        <div class="filters">
          <select id="yearFilter">
            <option value="">ì „ì²´ ì—°ë„</option>
            <option value="2019">2019</option>
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025">2025</option>
          </select>
          <select id="typeFilter">
            <option value="">ì „ì²´ ìœ í˜•</option>
            <option value="ì½˜í…ì¸ ">ì½˜í…ì¸ </option>
            <option value="ê´‘ê³ ">ê´‘ê³ </option>
            <option value="ë®¤ì§ë¹„ë””ì˜¤">ë®¤ì§ë¹„ë””ì˜¤</option>
            <option value="ê³µê¸°ê´€">ê³µê¸°ê´€</option>
            <option value="ìŠ¤ì¼€ì¹˜">ìŠ¤ì¼€ì¹˜</option>
          </select>
          <select id="categoryFilter">
            <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
            <option value="ì½˜í…ì¸ ">ì½˜í…ì¸ </option>
            <option value="ê¸°ì—…">ê¸°ì—…</option>
            <option value="ê³µê³µê¸°ê´€">ê³µê³µê¸°ê´€</option>
            <option value="ì•„íŠ¸í•„ë¦„">ì•„íŠ¸í•„ë¦„</option>
          </select>
        </div>

        <!-- ì½˜í…ì¸  ëª©ë¡ -->
        <div id="contentList" class="content-grid">
          <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <div class="pagination">
          <button id="prevPage">ì´ì „</button>
          <span id="currentPage">1</span> / <span id="totalPages">1</span>
          <button id="nextPage">ë‹¤ìŒ</button>
        </div>
      </div>
    </div>

    <script type="module" src="./scripts/upload.js"></script>
  </body>
</html>
