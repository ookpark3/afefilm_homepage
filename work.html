<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./asset/main/main/AFE logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./work.css" />
    <link
      rel="stylesheet"
      as="style"
      crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css"
    />
    <title>AFE | Work</title>
  </head>
  <body>

    </div>
    <!-- 헤더 페이지 -->
    <header class="header" aria-label="헤더 페이지">
      <div class="header-logo">
        <a href="./index.html">
          <img src="./asset/main/AFE logo.png" alt="AFE logo" />
        </a>
      </div>
      <div class="header-menu">
        <div class="header-menu-item-1">
          <div class="header-menu-item-1-1">
            <a href="./about.html">About</a>
          </div>
          <div class="header-menu-item-1-2">
            <a href="./work.html">Work</a>
          </div>
          <div class="header-menu-item-1-3">
            <a href="./contact.html">Contact</a>
          </div>
        </div>
        <div class="header-menu-item-2">
          <a href="https://bit.ly/3yJX7NL" class="header-menu-item-2-2">
            <span class="header-menu-item-2-1">회사소개서</span>
            <img
              src="./asset/main/material-symbols-light_download.svg"
              alt="Vector"
            />
          </a>
        </div>
      </div>
    </header>
    <!-- 메인 페이지 -->
    <main>
      <!-- 워크 색션 -->
      <section class="work-1 section">
        <div class="work-1-1">
          <p>Work</p>
          <div class="work-1-1-1">
            <button onclick="alert('홈페이지 리뉴얼작업 중입니다.')">
              ALL
            </button>
            <button onclick="alert('홈페이지 리뉴얼작업 중입니다.')">
              공공기관
            </button>
            <button onclick="alert('홈페이지 리뉴얼작업 중입니다.')">
              기업
            </button>
            <button onclick="alert('홈페이지 리뉴얼작업 중입니다.')">
              콘텐츠
            </button>
            <button onclick="alert('홈페이지 리뉴얼작업 중입니다.')">
              아트필름
            </button>
          </div>
        </div>
      </section>
      <hr class="section-divider" aria-label="섹션 구분선" />
      <!-- 영상 썸네일 섹션 -->
      <section class="work-1-2 section">
        <div class="work-1-2-1" id="thumbnails">
          <div class="thumbnail-container" data-video-id="xqHydADF4II">
            <img src="./asset/work/1.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 강승윤
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="AT_7ZDDNQ9M">
            <img src="./asset/work/2.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 금난새
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="ffi9doPmkmY">
            <img src="./asset/work/3.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 엄홍길
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="xqHydADF4II">
            <img src="./asset/work/4.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 천종호
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="CUHeQgnl97s">
            <img src="./asset/work/5.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 이창용
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="2SR6SACcOFU">
            <img src="./asset/work/6.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 타일러
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="aQCfPSpyLuo">
            <img src="./asset/work/7.png" alt="사진" />
            <div class="thumbnail-title">
              2030 부산월드엑스포 릴레이 인터뷰 - 손경식
            </div>
          </div>
          <div class="thumbnail-container" data-video-id="4fhckpc0HOw">
            <img src="./asset/work/8.png" alt="사진" />
            <div class="thumbnail-title">2022 청년의날 하이라이트 영상</div>
          </div>
          <div class="thumbnail-container" data-video-id="CsVPZHUebD0">
            <img src="./asset/work/9.png" alt="사진" />
            <div class="thumbnail-title">15분도시 플랫폼 광고</div>
          </div>
        </div>
        <div class="work-1-2-2">
          <button
            class="work-1-2-2-nav prev"
            onclick="alert('홈페이지 리뉴얼작업 중입니다.')"
          >
            <img src="./asset/work/back-unactive.svg" alt="뒤로" />
          </button>
          <button
            class="page-button"
            onclick="alert('홈페이지 리뉴얼작업 중입니다.')"
          >
            1
          </button>
          <button
            class="page-button"
            onclick="alert('홈페이지 리뉴얼작업 중입니다.')"
          >
            2
          </button>
          <button
            class="page-button"
            onclick="alert('홈페이지 리뉴얼작업 중입니다.')"
          >
            3
          </button>
          <button
            class="work-1-2-2-nav next"
            onclick="alert('홈페이지 리뉴얼작업 중입니다.')"
          >
            <img src="./asset/work/back-unactive.svg" alt="앞으로" />
          </button>
        </div>
      </section>
    </main>
    <!-- 모달 영상 -->
    <div id="videoModal" class="modal">
      <div class="modal-content">
        <span class="close">
          <img src="./asset/work/modal/close.svg" alt="닫기" />
        </span>
        <h2 id="videoTitle"></h2>
        <div id="videoPlayer"></div>
        <div class="videoDescription">
          <p id="productionDate"></p>
          <p id="client"></p>
          <p id="type"></p>
        </div>
      </div>
    </div>
    <!-- 푸터 페이지 -->
    <footer class="footer" aria-label="푸터 페이지">
      <div class="footer-1">
        <div class="footer-1-1">
          <p>에이에프이 (AFE)</p>
          <p>대표 : 박세형</p>
          <p>사업자번호 : 133-16-01692</p>
          <p>메일 : afefilm82@gmail.com</p>
          <p>대표전화 : 070-8800-0401</p>
        </div>
        <div class="footer-1-2">
          <div class="footer-1-2-1">
            <p>
              부산광역시 해운대구 세실로 33 B1<br />
              서울특별시 강남구 테헤란로25길 46 서울빌딩 2층 (파이브스팟 역삼)
            </p>
            <p>
              33, Sesil-ro, Haeundae-gu, Busan, Republic of Korea 46,<br />
              Teheran-ro 25-gil, Gangnam-gu, Seoul, Republic of Korea
            </p>
          </div>
          <div class="footer-1-2-2">
            <p>copyright 2024. AFE. All rights reserved</p>
          </div>
        </div>
      </div>
    </footer>
  <!-- 섹션 스크립트 -->
  <script>
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    const observer = new IntersectionObserver(
      debounce((entries) => {
        entries.forEach((entry) => {
          if (
            entry.isIntersecting &&
            !entry.target.classList.contains('visible')
          ) {
            entry.target.classList.add('visible');
          } else if (
            !entry.isIntersecting &&
            entry.target.classList.contains('visible')
          ) {
            entry.target.classList.remove('visible');
          }
        });
      }, 50), // 50ms 디바운스
      {
        threshold: [0.1, 0.2, 0.3],
        rootMargin: '-10% 0px -10% 0px',
      },
    );

    document.querySelectorAll('.section').forEach((section) => {
      observer.observe(section);
    });
  </script>

    <!-- 비디오 정보 모달창 -->
    <script>
      const videos = [
        {
          id: 'xqHydADF4II',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 강승윤',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: 'AT_7ZDDNQ9M',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 금난새',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: 'ffi9doPmkmY',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 엄홍길',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: '-SXyd3VBZ0g',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 천종호',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: 'CUHeQgnl97s',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 이창용',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: '2SR6SACcOFU',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 타일러',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: 'aQCfPSpyLuo',
          title: '2030 부산월드엑스포 릴레이 인터뷰 - 손경식',
          productionDate: '2023',
          client: '부산광역시청',
          type: '인터뷰',
        },
        {
          id: '4fhckpc0HOw',
          title: '2022 청년의날 하이라이트 영상',
          productionDate: '2022',
          client: '청년과 미래',
          type: '스케치',
        },
        {
          id: 'CsVPZHUebD0',
          title: '15분도시 플랫폼 광고',
          productionDate: '2024',
          client: '부산광역시청',
          type: '광고',
        },
      ];

      const thumbnails = document.querySelectorAll('.thumbnail-container');
      const modal = document.getElementById('videoModal');
      const closeBtn = document.querySelector('.close');
      const videoTitle = document.getElementById('videoTitle');
      const videoPlayer = document.getElementById('videoPlayer');
      const productionDate = document.getElementById('productionDate');
      const client = document.getElementById('client');
      const type = document.getElementById('type');

      // 모달 열기
      function openModal() {
        const modal = document.querySelector('.modal');
        modal.classList.add('show');
        document.body.style.overflow = 'hidden'; // body 스크롤 막기
      }

      // 모달 닫기
      function closeModal() {
        const modal = document.querySelector('.modal');
        modal.classList.remove('show');
        document.body.style.overflow = ''; // body 스크롤 복원

        // 영상 플레이어 초기화
        const videoPlayer = document.getElementById('videoPlayer');
        videoPlayer.innerHTML = '';
      }

      thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener('click', () => {
          const video = videos[index];
          videoTitle.textContent = video.title;
          videoPlayer.innerHTML = `<iframe src="https://www.youtube.com/embed/${video.id}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
          productionDate.textContent = `${video.productionDate}`;
          client.textContent = `CLIENT　${video.client}`;
          type.textContent = `TYPE　${video.type}`;
          openModal();
        });
      });

      closeBtn.onclick = closeModal;

      window.onclick = (event) => {
        if (event.target == modal) {
          closeModal();
        }
      };

      // ESC 키를 눌러 모달 닫기
      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeModal();
        }
      });
    </script>
  </body>
</html>
